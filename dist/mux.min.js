/**
* Mux.js v1.0.0
* (c) 2014 guankaishe
* Released under the MIT License.
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Mux=b():a.Mux=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";a.exports=c(1)},function(a,b,c){"use strict";function d(a){f.call(this,a)}function e(a){var b=a.props;return b&&i.type(b,"function"),function(b){f.call(this,a,b)}}function f(a,b){function c(a,b){return~A.indexOf(b)?l.warn('"'+prop+"\" is a computed property, couldn't depend a computed property"):(m.patch(D,b,[]),void(~D[b].indexOf(a)||D[b].push(a)))}function d(a,b){"array"==m.type(b)&&k(b,function(c,d,f){var g=b.slice(0),h=d.apply(b,f);return C[a]=b,t.emit("change:"+a,b,g),e(a),h})}function e(a){(D[a]||[]).forEach(function(a){m.patch(B,a,{}),B[a].pre=B[a].current,B[a].current=(y[a].fn||g).call(s),t.emit("change:"+a,B[a].current,B[a].pre)})}function f(a,b,c){var d=j.normalize(a).split("."),e=d[0];if(~A.indexOf(e))return l.warn("Can't set value to computed property \""+e+'"'),!1;if(!~z.indexOf(e))return l.warn('Property "'+e+'" has not been observed'),!1;var f=C[e];c&&c(),j.set(C,a,b);var g=C[e];return{mounted:e,next:g,pre:f}}function n(a,b){var c=m.merge({},s),g=f(a,b);if(g&&m.diff(g.next,g.pre)){var h=g.mounted;d(h,C[h]),e(h),t.emit("change:"+h,g.next,g.pre),t.emit("*",m.merge({},s),c)}}function o(a){if(a&&"object"==m.type(a)){var b,c=[],e=m.merge({},s),h=!1;for(var i in a)if(a.hasOwnProperty(i)){if(b=f(i,a[i]),!b)continue;if(b.next!==b.pre||b.next instanceof Object){var j=b.mounted;d(j,C[j]),t.emit("change:"+j,b.next,b.pre),(D[j]||[]).reduce(function(a,b){return~a.indexOf(b)||a.push(b),a},c),h=!0}}c.forEach(function(a){m.patch(B,a,{});var b=B[a].pre=B[a].current,c=B[a].current=(y[a].fn||g).call(s);m.diff(c,b)&&t.emit("change:"+a,c,b)}),h&&t.emit("*",m.merge({},s),e)}}function p(a){i(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~z.indexOf(a)||(z.push(a),Object.defineProperty(s,a,{enumerable:!0,get:function(){return C[a]},set:function(b){n(a,b)}}))}function q(a){var b={};a.forEach(function(a){i(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~z.indexOf(a)||(z.push(a),b[a]={enumerable:!0,get:function(){return C[a]}})}),Object.defineProperties(s,b)}function r(a,b,d){switch(!1){case"string"==m.type(a):l.warn("Computed property's name should be type of String");case"array"==m.type(b):l.warn('Computed property\'s "deps" should be type of Array');case"function"==m.type(d):l.warn('Computed property\'s "fn" should be type of Function')}~A.indexOf(a)||(y[a]={deps:b,fn:d},(b||[]).forEach(function(b){c(a,b)}),m.patch(B,a,{}),B[a].current=(d||g).call(s),Object.defineProperty(s,a,{enumerable:!0,get:function(){return B[a].current}}))}var s=this,t=new h(s),u=a.props,v={},w={},x=u?u.call(this):{},y=a.computed||{},z=Object.keys(x),A=Object.keys(y),B={},C={},D={};z.forEach(function(a){C[a]=x[a];var b=C[a];d(a,b),v[a]={enumerable:!0,get:function(){return C[a]},set:function(b){n(a,b)}}}),Object.defineProperties(s,v),v=null,A.forEach(function(a){var b=y[a],d=b.deps,e=b.fn;"function"!=m.type(e)&&l.warn("Computed property "+a+'\'s "fn" should be a function'),d&&(d.forEach(function(b){c(a,b)}),m.patch(B,a,{}),B[a].current=(e||g).call(s),w[a]={enumerable:!0,get:function(){return B[a].current},set:function(){l.warn("Can not set value to a computed property")}})}),Object.defineProperties(s,w),w=null,Object.defineProperties(s,{$add:{enumerable:!1,value:function(){var a=arguments.length;if(a>1){for(var b=new Array(a);a;)b[a]=arguments[--a];q(b)}else 1==a&&p(arguments[0])}},$computed:{enumerable:!1,value:function(a,b,c){if("string"==m.type(a))r(a,b,c);else if("object"==m.type(a)){var d=arguments[0];for(a in d){var e=d[a];r(a,e.deps,e.fn)}}else l.warn('$computed params show be "(String, Array, Function)" or "(Object)"')}},$set:{enumerable:!1,value:function(){var a=arguments.length;return a>=2?n(arguments[0],arguments[1]):1==a&&"object"==m.type(arguments[0])?o(arguments[0]):l.warn("Unexpect $set params"),this}},$get:{enumerable:!1,value:function(a){return~z.indexOf(a)?C[a]:~A.indexOf(a)?(y[a].fn||g).call(s):void 0}},$watch:{enumerable:!1,value:function(){var a,b,c=arguments.length;if(c>=2)a="change:"+arguments[0],b=arguments[1];else{if(1!=c||"function"!=m.type(arguments[0]))return l.warn("Unexpect $watch params"),g;a="*",b=arguments[0]}t.on(a,b);var d=this,e=arguments;return function(){d.$unwatch.apply(d,e)}}},$unwatch:{enumerable:!1,value:function(){var a,b=arguments.length;return b>=2?(a="change:"+arguments[0],t.off(a,arguments[1])):1==b&&"string"==m.type(arguments[0])?t.off("change:"+arguments[0]):1==b&&"function"==m.type(arguments[0])?t.off("*",arguments[0]):0==b?t.off():l.warn("Unexpect param type of "+arguments[0]),this}}}),o(b)}function g(){}var h=c(2),i=c(3),j=c(4),k=c(5),l=c(6),m=c(7);d.extend=function(a){return e(a)},d.config=function(a){a.warn===!1?l.disable():l.enable()},a.exports=d},function(a){"use strict";function b(a){this._observers={},this._context=a}function c(a,b,c){!a[b]&&(a[b]=c)}function d(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()}b.prototype.on=function(a,b){c(this._observers,a,[]),this._observers[a].push({cb:b})},b.prototype.off=function(a,b){var c,e=arguments.length;if(e>=2)c=[a];else if(1==e&&"function"==d(arguments[0]))b=arguments[0],c=Object.keys(this._observers);else{if(1!=e)return this._observers=[],this;c=[a]}var f=this;return c.forEach(function(a){var c=f._observers[a];if(c){var d=[];b&&c.forEach(function(a){a.cb!==b&&d.push(a)}),f._observers[a]=d}}),this},b.prototype.emit=function(a){var b=this._observers[a];if(b){var c=[].slice.call(arguments);c.shift();var d=this;b.forEach(function(a){a.cb&&a.cb.apply(d._context||null,c)})}};var e=new b;b.on=function(){e.on.apply(e,arguments)},b.off=function(){e.off.apply(e,arguments)},b.emit=function(){e.emit.apply(e,arguments)},a.exports=b},function(a,b,c){"use strict";function d(a,b){if(!a)throw new Error(b||"Unexpect error")}var e=c(7);d.type=function(a,b,c){if(e.type(a)!=b)throw new Error(c||"Expect param's type be"+b+" not "+e.type(a))},d.exist=function(a,b){if(void 0==a)throw new Error(b||"Expect param not be undefined")},a.exports=d},function(a){"use strict";function b(a){return new String(a).replace(/\[([^\[\]])+\]/g,function(a,b){return"."+b})}function c(a,c,d){var e=b(c).split("."),f=e.pop(),g=a;return e.forEach(function(a){g=g[a]}),g[f]=d,a}function d(a,c){var d=b(c).split("."),e=a;return d.forEach(function(a){e=e[a]}),e}a.exports={normalize:b,set:c,get:d}},function(a){"use strict";var b=["splice","push","pop","shift","unshift"],c="__hook__";a.exports=function(a,d){b.forEach(function(b){if(!a[b][c]){var e=a[b];a[b]=function(){return d(b,e,arguments)},Object.defineProperty(a[b],c,{enumerable:!1,value:!0})}})}},function(a){"use strict";var b=!0;a.exports={enable:function(){b=!0},disable:function(){b=!1},warn:function(a){return b?console.warn?console.warn(a):void console.log(a):void 0}}},function(a){"use strict";a.exports={type:function(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()},patch:function(a,b,c){!a[b]&&(a[b]=c)},diff:function(a,b){return a!==b||a instanceof Object},merge:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}}}])});