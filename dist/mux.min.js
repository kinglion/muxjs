/**
* Mux.js v1.0.0
* (c) 2014 guankaishe
* Released under the MIT License.
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Mux=b():a.Mux=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";a.exports=c(1)},function(a,b,c){"use strict";function d(a){h(a),f.call(this,a)}function e(a){return h(a),function(b){f.call(this,a,b)}}function f(a,b){function c(a,b){return~A.indexOf(b)?m.warn('"'+prop+"\" is a computed property, couldn't depend a computed property"):(n.patch(D,b,[]),void(~D[b].indexOf(a)||D[b].push(a)))}function d(a,b){"array"==n.type(b)&&l(b,function(c,d,f){var g=b.slice(0),h=d.apply(b,f);return C[a]=b,u.emit("change:"+a,b,g),e(a),h})}function e(a){(D[a]||[]).forEach(function(a){n.patch(B,a,{}),B[a].pre=B[a].current,B[a].current=(y[a].fn||g).call(t),u.emit("change:"+a,B[a].current,B[a].pre)})}function f(a,b,c){var d=k.normalize(a).split("."),e=d[0];if(~A.indexOf(e))return m.warn("Can't set value to computed property \""+e+'"'),!1;if(!~z.indexOf(e))return m.warn('Property "'+e+'" has not been observed'),!1;var f=C[e];c&&c(),k.set(C,a,b);var g=C[e];return{mounted:e,next:g,pre:f}}function h(a,b){var c=n.merge({},t),g=f(a,b);if(g&&n.diff(g.next,g.pre)){var h=g.mounted;d(h,C[h]),e(h),u.emit("change:"+h,g.next,g.pre),u.emit("*",n.merge({},t),c)}}function o(a){if(a&&"object"==n.type(a)){var b,c=[],e=n.merge({},t),h=!1;for(var i in a)if(a.hasOwnProperty(i)){if(b=f(i,a[i]),!b)continue;if(b.next!==b.pre||b.next instanceof Object){var j=b.mounted;d(j,C[j]),u.emit("change:"+j,b.next,b.pre),(D[j]||[]).reduce(function(a,b){return~a.indexOf(b)||a.push(b),a},c),h=!0}}c.forEach(function(a){n.patch(B,a,{});var b=B[a].pre=B[a].current,c=B[a].current=(y[a].fn||g).call(t);n.diff(c,b)&&u.emit("change:"+a,c,b)}),h&&u.emit("*",n.merge({},t),e)}}function p(a){j(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~z.indexOf(a)||(z.push(a),Object.defineProperty(t,a,{enumerable:!0,get:function(){return C[a]},set:function(b){h(a,b)}}))}function q(a){var b={};a.forEach(function(a){j(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~z.indexOf(a)||(z.push(a),b[a]={enumerable:!0,get:function(){return C[a]}})}),Object.defineProperties(t,b)}function r(a,b,d){switch(!1){case"string"==n.type(a):m.warn("Computed property's name should be type of String");case"array"==n.type(b):m.warn('Computed property\'s "deps" should be type of Array');case"function"==n.type(d):m.warn('Computed property\'s "fn" should be type of Function')}~A.indexOf(a)||(y[a]={deps:b,fn:d},(b||[]).forEach(function(b){c(a,b)}),n.patch(B,a,{}),B[a].current=(d||g).call(t),Object.defineProperty(t,a,{enumerable:!0,get:function(){return B[a].current}}))}var s,t=this,u=new i(t),v=a.props,w={},x={};s="function"==n.type(v)?v():"object"==n.type(v)?v:{};var y=a.computed||{},z=Object.keys(s),A=Object.keys(y),B={},C={},D={};z.forEach(function(a){C[a]=s[a];var b=C[a];d(a,b),w[a]={enumerable:!0,get:function(){return C[a]},set:function(b){h(a,b)}}}),Object.defineProperties(t,w),w=null,A.forEach(function(a){var b=y[a],d=b.deps,e=b.fn;"function"!=n.type(e)&&m.warn("Computed property "+a+'\'s "fn" should be a function'),d&&(d.forEach(function(b){c(a,b)}),n.patch(B,a,{}),B[a].current=(e||g).call(t),x[a]={enumerable:!0,get:function(){return B[a].current},set:function(){m.warn("Can not set value to a computed property")}})}),Object.defineProperties(t,x),x=null,Object.defineProperties(t,{$add:{enumerable:!1,value:function(){var a=arguments.length;if(a>1){for(var b=new Array(a);a;)b[a]=arguments[--a];q(b)}else 1==a&&p(arguments[0])}},$computed:{enumerable:!1,value:function(a,b,c){if("string"==n.type(a))r(a,b,c);else if("object"==n.type(a)){var d=arguments[0];for(a in d){var e=d[a];r(a,e.deps,e.fn)}}else m.warn('$computed params show be "(String, Array, Function)" or "(Object)"')}},$set:{enumerable:!1,value:function(){var a=arguments.length;return a>=2?h(arguments[0],arguments[1]):1==a&&"object"==n.type(arguments[0])?o(arguments[0]):m.warn("Unexpect $set params"),this}},$get:{enumerable:!1,value:function(a){return~z.indexOf(a)?C[a]:~A.indexOf(a)?(y[a].fn||g).call(t):void 0}},$watch:{enumerable:!1,value:function(){var a,b,c=arguments.length;if(c>=2)a="change:"+arguments[0],b=arguments[1];else{if(1!=c||"function"!=n.type(arguments[0]))return m.warn("Unexpect $watch params"),g;a="*",b=arguments[0]}u.on(a,b);var d=this,e=arguments;return function(){d.$unwatch.apply(d,e)}}},$unwatch:{enumerable:!1,value:function(){var a,b=arguments.length;return b>=2?(a="change:"+arguments[0],u.off(a,arguments[1])):1==b&&"string"==n.type(arguments[0])?u.off("change:"+arguments[0]):1==b&&"function"==n.type(arguments[0])?u.off("*",arguments[0]):0==b?u.off():m.warn("Unexpect param type of "+arguments[0]),this}}}),o(b)}function g(){}function h(a){if(a){var b=a.props,c=a.computed;b&&j.type(b,["function","object"]),c&&j.type(c,["object"])}}var i=c(2),j=c(3),k=c(4),l=c(5),m=c(6),n=c(7);d.extend=function(a){return e(a)},d.config=function(a){a.warn===!1?m.disable():m.enable()},a.exports=d},function(a){"use strict";function b(a){this._observers={},this._context=a}function c(a,b,c){!a[b]&&(a[b]=c)}function d(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()}b.prototype.on=function(a,b){c(this._observers,a,[]),this._observers[a].push({cb:b})},b.prototype.off=function(a,b){var c,e=arguments.length;if(e>=2)c=[a];else if(1==e&&"function"==d(arguments[0]))b=arguments[0],c=Object.keys(this._observers);else{if(1!=e)return this._observers=[],this;c=[a]}var f=this;return c.forEach(function(a){var c=f._observers[a];if(c){var d=[];b&&c.forEach(function(a){a.cb!==b&&d.push(a)}),f._observers[a]=d}}),this},b.prototype.emit=function(a){var b=this._observers[a];if(b){var c=[].slice.call(arguments);c.shift();var d=this;b.forEach(function(a){a.cb&&a.cb.apply(d._context||null,c)})}};var e=new b;b.on=function(){e.on.apply(e,arguments)},b.off=function(){e.off.apply(e,arguments)},b.emit=function(){e.emit.apply(e,arguments)},a.exports=b},function(a,b,c){"use strict";function d(a,b){if(!a)throw new Error(b||"Unexpect error")}var e=c(7);d.type=function(a,b,c){var d=e.type(b),f=e.type(a);if("string"==d){if(f!=b)throw new Error(c||"Expect param's type be "+b+" not "+f)}else if("array"==d&&!b.some(function(a){return f==a?!0:void 0}))throw new Error(c||"Unexpect param's type "+f+", it should one of "+b.join(","))},a.exports=d},function(a){"use strict";function b(a){return new String(a).replace(/\[([^\[\]])+\]/g,function(a,b){return"."+b})}function c(a,c,d){var e=b(c).split("."),f=e.pop(),g=a;return e.forEach(function(a){g=g[a]}),g[f]=d,a}function d(a,c){var d=b(c).split("."),e=a;return d.forEach(function(a){e=e[a]}),e}a.exports={normalize:b,set:c,get:d}},function(a){"use strict";var b=["splice","push","pop","shift","unshift"],c="__hook__";a.exports=function(a,d){b.forEach(function(b){if(!a[b][c]){var e=a[b];a[b]=function(){return d(b,e,arguments)},Object.defineProperty(a[b],c,{enumerable:!1,value:!0})}})}},function(a){"use strict";var b=!0;a.exports={enable:function(){b=!0},disable:function(){b=!1},warn:function(a){return b?console.warn?console.warn(a):void console.log(a):void 0}}},function(a){"use strict";a.exports={type:function(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()},patch:function(a,b,c){!a[b]&&(a[b]=c)},diff:function(a,b){return a!==b||a instanceof Object},merge:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}}}])});